<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
    />

    <!-- PWA-–º–µ—Ç–∞-—Ç–µ–≥–∏: -->
    <meta name="application-name" content="–£—á–µ—Ç —Ä–∞–±–æ—Ç" />
    <meta name="apple-mobile-web-app-title" content="–£—á–µ—Ç —Ä–∞–±–æ—Ç" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#6366f1" />
    <meta name="msapplication-TileColor" content="#6366f1" />
    <meta name="msapplication-tap-highlight" content="no" />

    <!-- Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- HEAD -->
    <title>–£—á–µ—Ç —Ä–∞–±–æ—Ç –±—Ä–∏–≥–∞–¥—ã 2026</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìä</text></svg>"
    />
  </head>
  <body>
    <!-- –ó–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —ç–∫—Ä–∞–Ω -->
    <div id="loader" class="loader">
      <div class="loader-content">
        <div class="loader-logo">üìä</div>
        <div class="loader-text">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
        <div class="loader-progress">
          <div class="progress-bar"></div>
        </div>
      </div>
    </div>

    <!-- –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="app-container">
      <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
      <header class="app-header">
        <div class="header-top">
          <div class="header-left">
            <div class="app-brand">
              <div class="app-icon">üìä</div>
              <div class="app-name">WorkTracker</div>
            </div>
          </div>
          <div class="header-right">
            <div class="current-month" id="currentMonth">–Ø–Ω–≤–∞—Ä—å 2026</div>
          </div>
        </div>

        <!-- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="quick-actions">
          <button class="quick-btn" id="prevMonthBtn">
            <i class="fas fa-chevron-left"></i>
            <span>–ù–∞–∑–∞–¥</span>
          </button>
          <button class="quick-btn primary" id="todayBtn">
            <i class="fas fa-calendar-day"></i>
            <span>–°–µ–≥–æ–¥–Ω—è</span>
          </button>
          <button class="quick-btn" id="nextMonthBtn">
            <i class="fas fa-chevron-right"></i>
            <span>–í–ø–µ—Ä–µ–¥</span>
          </button>
        </div>
      </header>

      <!-- –û—Å–Ω–æ–≤–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ -->
      <main class="app-main" id="appMain">
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º–µ—Å—è—Ü–∞ -->
        <div class="stats-grid" id="statsGrid">
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-calculator"></i>
            </div>
            <div class="stat-content">
              <div class="stat-label">–ò–¢–û–ì–û</div>
              <div class="stat-value" id="totalAmount">0 ‚ÇΩ</div>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon">
              <i class="fas fa-star"></i>
            </div>
            <div class="stat-content">
              <div class="stat-label">–ü–†–ï–ú–ò–Ø</div>
              <div class="stat-value" id="premiumAmount">0 ‚ÇΩ</div>
            </div>
          </div>
          <div class="stat-card highlight">
            <div class="stat-icon">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-content">
              <div class="stat-label">–ù–ê –ß–ï–õ–û–í–ï–ö–ê</div>
              <div class="stat-value" id="perPersonAmount">0 ‚ÇΩ</div>
            </div>
          </div>
        </div>

        <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
        <div class="calendar-section">
          <div class="section-header">
            <h2>–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–∞–±–æ—Ç</h2>
            <div class="month-selector">
              <select id="monthSelect" class="select">
                <option value="0">–Ø–Ω–≤–∞—Ä—å</option>
                <option value="1">–§–µ–≤—Ä–∞–ª—å</option>
                <option value="2">–ú–∞—Ä—Ç</option>
                <option value="3">–ê–ø—Ä–µ–ª—å</option>
                <option value="4">–ú–∞–π</option>
                <option value="5">–ò—é–Ω—å</option>
                <option value="6">–ò—é–ª—å</option>
                <option value="7">–ê–≤–≥—É—Å—Ç</option>
                <option value="8">–°–µ–Ω—Ç—è–±—Ä—å</option>
                <option value="9">–û–∫—Ç—è–±—Ä—å</option>
                <option value="10">–ù–æ—è–±—Ä—å</option>
                <option value="11">–î–µ–∫–∞–±—Ä—å</option>
              </select>
              <div class="select-arrow">
                <i class="fas fa-chevron-down"></i>
              </div>
            </div>
          </div>

          <div class="calendar-wrapper">
            <div class="calendar-days-header">
              <div class="day-header">–ü–Ω</div>
              <div class="day-header">–í—Ç</div>
              <div class="day-header">–°—Ä</div>
              <div class="day-header">–ß—Ç</div>
              <div class="day-header">–ü—Ç</div>
              <div class="day-header">–°–±</div>
              <div class="day-header">–í—Å</div>
            </div>
            <div class="calendar-grid" id="calendarGrid">
              <!-- –î–Ω–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
          </div>
        </div>

        <!-- –§–æ—Ä–º–∞ –≤–≤–æ–¥–∞ –¥–Ω—è -->
        <div class="day-form-section" id="dayFormSection" style="display: none">
          <div class="form-header">
            <button class="back-btn" id="backBtn">
              <i class="fas fa-arrow-left"></i>
            </button>
            <h2 id="dayTitle">1 —è–Ω–≤–∞—Ä—è 2026</h2>
            <div class="form-actions">
              <button
                class="btn-icon danger"
                id="clearDayBtn"
                title="–û—á–∏—Å—Ç–∏—Ç—å –¥–µ–Ω—å"
              >
                <i class="fas fa-trash"></i>
              </button>
              <button class="btn-save" id="saveDayBtn">
                <i class="fas fa-check"></i>
                <span>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</span>
              </button>
            </div>
          </div>

          <div class="day-summary">
            <div class="day-summary-content">
              <div class="day-summary-label">–ò—Ç–æ–≥–æ –∑–∞ –¥–µ–Ω—å</div>
              <div class="day-summary-value" id="dayTotalValue">0 ‚ÇΩ</div>
            </div>
          </div>

          <div class="entries-list" id="entriesList">
            <!-- –ó–∞–ø–∏—Å–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
          </div>

          <div class="form-footer">
            <button class="btn-add" id="addEntryBtn">
              <i class="fas fa-plus"></i>
              <span>–î–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é</span>
            </button>
          </div>
        </div>

        <!-- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–∑–∏—Ü–∏–π -->
        <div
          class="positions-section"
          id="positionsSection"
          style="display: none"
        >
          <div class="section-header">
            <button class="back-btn" id="backFromPositionsBtn">
              <i class="fas fa-arrow-left"></i>
            </button>
            <h2>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–∑–∏—Ü–∏–π</h2>
            <button class="btn-add-circle" id="addPositionBtn">
              <i class="fas fa-plus"></i>
            </button>
          </div>

          <div class="positions-container">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input
                type="text"
                id="searchPositions"
                placeholder="–ü–æ–∏—Å–∫ –ø–æ–∑–∏—Ü–∏–π..."
                class="search-input"
              />
            </div>

            <div class="positions-list" id="positionsList">
              <!-- –ü–æ–∑–∏—Ü–∏–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
          </div>
        </div>

        <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
        <div
          class="settings-section"
          id="settingsSection"
          style="display: none"
        >
          <div class="section-header">
            <button class="back-btn" id="backFromSettingsBtn">
              <i class="fas fa-arrow-left"></i>
            </button>
            <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
          </div>

          <div class="settings-container">
            <div class="settings-group">
              <h3 class="group-title">–û—Å–Ω–æ–≤–Ω—ã–µ</h3>
              <div class="setting-item">
                <div class="setting-label">
                  <i class="fas fa-users"></i>
                  <span>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–µ–ª–æ–≤–µ–∫ –≤ –±—Ä–∏–≥–∞–¥–µ</span>
                </div>
                <div class="setting-control">
                  <input
                    type="number"
                    id="personCount"
                    class="input"
                    min="1"
                    max="20"
                    value="4"
                  />
                </div>
              </div>
              <div class="setting-item">
                <div class="setting-label">
                  <i class="fas fa-chart-line"></i>
                  <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</span>
                </div>
                <div class="setting-control">
                  <input
                    type="number"
                    id="defaultCoefficient"
                    class="input"
                    min="0"
                    max="1"
                    step="0.01"
                    value="0.15"
                  />
                </div>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="group-title">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</h3>
              <div class="setting-item">
                <div class="setting-label">
                  <i class="fas fa-palette"></i>
                  <span>–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</span>
                </div>
                <div class="setting-control">
                  <div class="theme-selector">
                    <button class="theme-option active" data-theme="light">
                      <i class="fas fa-sun"></i>
                      <span>–°–≤–µ—Ç–ª–∞—è</span>
                    </button>
                    <button class="theme-option" data-theme="dark">
                      <i class="fas fa-moon"></i>
                      <span>–¢–µ–º–Ω–∞—è</span>
                    </button>
                    <button class="theme-option" data-theme="auto">
                      <i class="fas fa-adjust"></i>
                      <span>–ê–≤—Ç–æ</span>
                    </button>
                  </div>
                </div>
              </div>
            </div>

            <div class="settings-group">
              <h3 class="group-title">–î–∞–Ω–Ω—ã–µ</h3>
              <div class="settings-buttons">
                <button class="btn-setting" id="exportDataBtn">
                  <i class="fas fa-file-export"></i>
                  <span>–≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</span>
                </button>
                <button class="btn-setting" id="importDataBtn">
                  <i class="fas fa-file-import"></i>
                  <span>–ò–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö</span>
                </button>
                <button class="btn-setting danger" id="resetDataBtn">
                  <i class="fas fa-trash"></i>
                  <span>–°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</span>
                </button>
              </div>
            </div>
          </div>
          <div class="settings-group">
            <h3 class="group-title">–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏</h3>
            <div class="setting-item">
              <div class="setting-label">
                <i class="fas fa-list"></i>
                <span>–ü–æ–∑–∏—Ü–∏–∏</span>
              </div>
              <div class="setting-control">
                <button class="btn-setting" id="openPositionsBtn">
                  <i class="fas fa-external-link-alt"></i>
                  <span>–û—Ç–∫—Ä—ã—Ç—å —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ–∑–∏—Ü–∏–π</span>
                </button>
              </div>
            </div>
            <div class="setting-item">
              <div class="setting-label">
                <i class="fas fa-percentage"></i>
                <span>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</span>
              </div>
              <div class="setting-control">
                <button class="btn-setting" id="openCoefficientsBtn">
                  <i class="fas fa-external-link-alt"></i>
                  <span>–û—Ç–∫—Ä—ã—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</span>
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã -->
        <div
          class="coefficients-section"
          id="coefficientsSection"
          style="display: none"
        >
          <div class="section-header">
            <button class="back-btn" id="backFromCoefficientsBtn">
              <i class="fas fa-arrow-left"></i>
            </button>
            <h2>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã</h2>
          </div>

          <div class="coefficients-container">
            <div class="info-box">
              <i class="fas fa-info-circle"></i>
              <p>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–±—â–µ–π —Å—É–º–º–µ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞ –ø—Ä–µ–º–∏–∏</p>
            </div>

            <div class="coefficients-list" id="coefficientsList">
              <!-- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
          </div>
        </div>
      </main>

      <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
      <nav class="app-nav" id="appNav">
        <button class="nav-item active" data-section="calendar">
          <div class="nav-icon">
            <i class="fas fa-calendar-alt"></i>
          </div>
          <div class="nav-label">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</div>
        </button>
        <button
          class="nav-item center-action"
          id="quickAddBtn"
          title="–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏"
        >
          <div class="center-icon">
            <i class="fas fa-plus"></i>
          </div>
        </button>

        <button class="nav-item" data-section="settings">
          <div class="nav-icon">
            <i class="fas fa-cog"></i>
          </div>
          <div class="nav-label">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
        </button>
      </nav>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div class="modal" id="modalOverlay" style="display: none">
      <!-- –ü–æ–∑–∏—Ü–∏—è -->
      <div class="modal-content" id="positionModal">
        <div class="modal-header">
          <h3 id="positionModalTitle">–ù–æ–≤–∞—è –ø–æ–∑–∏—Ü–∏—è</h3>
          <button class="modal-close" id="closePositionModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-field">
            <label for="positionName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏</label>
            <input
              type="text"
              id="positionName"
              class="input"
              placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ö–ª–∞–¥–∫–∞ –∫–∏—Ä–ø–∏—á–∞"
            />
          </div>
          <div class="form-field">
            <label for="positionPrice">–¶–µ–Ω–∞ –∑–∞ –µ–¥–∏–Ω–∏—Ü—É (‚ÇΩ)</label>
            <input
              type="number"
              id="positionPrice"
              class="input"
              placeholder="1500"
              min="0"
              step="100"
            />
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" id="cancelPositionBtn">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn-primary" id="savePositionBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>

      <!-- –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç -->
      <div class="modal-content" id="coefficientModal">
        <div class="modal-header">
          <h3>–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –¥–ª—è <span id="coefMonthName"></span></h3>
          <button class="modal-close" id="closeCoefficientModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-field">
            <label for="coefficientValue">–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –ø—Ä–µ–º–∏–∏</label>
            <div class="input-with-suffix">
              <input
                type="number"
                id="coefficientValue"
                class="input"
                min="0"
                max="1"
                step="0.01"
                value="0.15"
              />
              <span class="input-suffix">%</span>
            </div>
            <div class="form-hint">–ù–∞–ø—Ä–∏–º–µ—Ä: 0.15 = 15% –æ—Ç –∏—Ç–æ–≥–∞</div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" id="cancelCoefficientBtn">
            –û—Ç–º–µ–Ω–∞
          </button>
          <button class="btn-primary" id="saveCoefficientBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>

      <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ -->
      <div class="modal-content modal-sm" id="confirmModal">
        <div class="modal-header">
          <h3 id="confirmModalTitle">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</h3>
        </div>
        <div class="modal-body">
          <div class="confirm-icon">
            <i class="fas fa-exclamation-triangle"></i>
          </div>
          <p id="confirmModalMessage">–í—ã —É–≤–µ—Ä–µ–Ω—ã?</p>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" id="confirmCancelBtn">–û—Ç–º–µ–Ω–∞</button>
          <button class="btn-danger" id="confirmOkBtn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
      </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ -->
    <input type="file" id="fileImport" accept=".json" style="display: none" />

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", function () {
          // –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å –±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ /work-tracker/
          navigator.serviceWorker
            .register("service-worker.js")
            .then(function (registration) {
              console.log(
                "ServiceWorker —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω:",
                registration.scope
              );
            })
            .catch(function (error) {
              console.log("ServiceWorker –æ—à–∏–±–∫–∞:", error);
            });
        });
      }
    </script>
    <script src="app.js"></script>
  </body>
</html>
